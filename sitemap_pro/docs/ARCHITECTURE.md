# Sitemap Pro - ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## æ¦‚è¦
Webã‚µã‚¤ãƒˆã¨PDFãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºãƒ»æ¯”è¼ƒãƒ»æ ¡æ­£ã‚·ã‚¹ãƒ†ãƒ 

---

## ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    çµ±åˆãƒ“ãƒ¥ãƒ¼ãƒ¯ãƒ¼ (Browser)                      â”‚
â”‚  http://localhost:8001                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ğŸ“„ Web Panel       â”‚    ğŸ“„ PDF Panel        â”‚  ğŸ“Š æ¯”è¼ƒãƒ‘ãƒãƒ«   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ â”‚  â”‚  â”‚ PDF ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°  â”‚  â”‚  â”‚ å·®åˆ†è¡¨ç¤º  â”‚  â”‚
â”‚  â”‚ + é¸æŠé ˜åŸŸ       â”‚  â”‚  â”‚ + é¸æŠé ˜åŸŸ       â”‚  â”‚  â”‚ Sync Rate â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æŠ½å‡ºãƒ†ã‚­ã‚¹ãƒˆ     â”‚  â”‚  â”‚ OCR ãƒ†ã‚­ã‚¹ãƒˆ     â”‚  â”‚  â”‚ æ ¡æ­£çµæœ  â”‚  â”‚
â”‚  â”‚ (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ )    â”‚  â”‚  â”‚ (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ )    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Python Backend   â”‚
                    â”‚  (FastAPI Server)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                   â–¼                   â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ text_       â”‚    â”‚ engines/    â”‚    â”‚ text_       â”‚
   â”‚ extractor   â”‚    â”‚ ocr_engine  â”‚    â”‚ comparator  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

### 1. text_extractor.py (16KB)
çµ±åˆãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºã‚¨ãƒ³ã‚¸ãƒ³

```python
# Web DOM æŠ½å‡º
extractor.extract_from_web(url, mode="text", xpath=None)

# PDF æŠ½å‡º (OCR ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯)
extractor.extract_from_pdf(pdf_path, pages=None, use_ocr=True)

# ç”»åƒ OCR
extractor.extract_from_image(image_path, granularity="paragraph")

# é ˜åŸŸæŒ‡å®š
extractor.extract_from_region(image_path, bbox=[x0, y0, x1, y1])
```

### 2. text_comparator.py (16KB)
ãƒ†ã‚­ã‚¹ãƒˆæ¯”è¼ƒãƒ»å·®åˆ†ã‚¨ãƒ³ã‚¸ãƒ³

```python
# 2ãƒ†ã‚­ã‚¹ãƒˆæ¯”è¼ƒ
comparator.compare(text_a, text_b, label_a="Web", label_b="PDF")
# Returns: sync_rate, diff_count, diffs, diff_html

# ãƒ–ãƒ­ãƒƒã‚¯æ¯”è¼ƒï¼ˆé ˜åŸŸè¦ªå’Œæ€§ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰
comparator.compare_blocks(blocks_a, blocks_b)
# Returns: mappings, total_similarity

# ã‚µã‚¸ã‚§ã‚¹ãƒˆç”Ÿæˆ
comparator.generate_suggestions(comparison_result, mode="proofread")
```

### 3. comparison_viewer.py (26KB)
2x3 ãƒãƒˆãƒªã‚¯ã‚¹ãƒ“ãƒ¥ãƒ¼ãƒ¯ãƒ¼ HTML ç”Ÿæˆ

### 4. engines/ (33KB)
åŸ‹ã‚è¾¼ã¿ã‚¨ãƒ³ã‚¸ãƒ³

| ãƒ•ã‚¡ã‚¤ãƒ« | æ©Ÿèƒ½ |
|---------|------|
| `ocr_engine.py` | Google Cloud Vision API OCR |
| `dom_handler.py` | Playwright DOM/XPath æŠ½å‡º |
| `capture.py` | ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆæ’®å½± |

---

## API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º
| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | æ©Ÿèƒ½ |
|---------------|------|
| `POST /extract/web` | Web URL ã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º |
| `POST /extract/pdf` | PDF ã‹ã‚‰ OCR æŠ½å‡º |
| `POST /extract/image` | ç”»åƒ OCR |
| `POST /extract/region` | é ˜åŸŸæŒ‡å®š OCR |

### ãƒ†ã‚­ã‚¹ãƒˆæ¯”è¼ƒ
| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | æ©Ÿèƒ½ |
|---------------|------|
| `POST /compare` | 2ãƒ†ã‚­ã‚¹ãƒˆæ¯”è¼ƒ |
| `POST /compare/blocks` | ãƒ–ãƒ­ãƒƒã‚¯è¦ªå’Œæ€§æ¯”è¼ƒ |
| `POST /compare/suggestions` | ã‚µã‚¸ã‚§ã‚¹ãƒˆç”Ÿæˆ |
| `POST /compare/viewer` | æ¯”è¼ƒãƒ“ãƒ¥ãƒ¼ãƒ¯ãƒ¼ HTML |

---

## é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

- [x] Phase 1: ã‚³ã‚¢ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- [x] Phase 2: API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- [x] Phase 3: ãƒãƒ«ãƒã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ UI
- [ ] Phase 4: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–é ˜åŸŸé¸æŠ
- [x] Phase 5: ãƒ†ã‚­ã‚¹ãƒˆæ¯”è¼ƒã‚¨ãƒ³ã‚¸ãƒ³

### Phase 4 (é€²è¡Œä¸­)
- JavaScript Canvas é ˜åŸŸé¸æŠ
- ãƒ‘ãƒ©ã‚°ãƒ©ãƒ•è‡ªå‹•ã‚¹ãƒŠãƒƒãƒ—
- é ˜åŸŸç·¨é›†ãƒ»å‰Šé™¤
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ†ã‚­ã‚¹ãƒˆåæ˜ 
- é ˜åŸŸè¦ªå’Œæ€§ãƒãƒƒãƒ”ãƒ³ã‚°

---

## èµ·å‹•æ–¹æ³•

```bash
cd sitemap_pro
pip install -r requirements.txt
playwright install chromium
uvicorn app.main:app --port 8001
```

ã‚¢ã‚¯ã‚»ã‚¹: http://localhost:8001

---

*Last Updated: 2026-01-06*
